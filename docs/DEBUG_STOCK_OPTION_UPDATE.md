# è°ƒè¯•è‚¡ç¥¨æœŸæƒæ›´æ–°é—®é¢˜

## é—®é¢˜ç°çŠ¶
æ›´æ–°è‚¡ç¥¨æœŸæƒäº§å“æ—¶æ˜¾ç¤º"æ›´æ–°äº§å“å¤±è´¥"ï¼Œä½†åç«¯æ—¥å¿—ä¸­æ²¡æœ‰PUTè¯·æ±‚è®°å½•ã€‚

## å·²å®Œæˆçš„ä¿®å¤
1. âœ… ä¿®å¤äº†åç«¯ `expiration_date` å­—æ®µçš„ç±»å‹è½¬æ¢é—®é¢˜ï¼ˆæ·»åŠ  `::date`ï¼‰
2. âœ… å¢å¼ºäº†å‰ç«¯é”™è¯¯æç¤ºï¼Œæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
3. âœ… æ·»åŠ äº†è¯¦ç»†çš„å‰ç«¯æ—¥å¿—è¾“å‡º

## è°ƒè¯•æ­¥éª¤

### 1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—

1. æ‰“å¼€æµè§ˆå™¨ï¼ˆChrome/Edgeï¼‰
2. æŒ‰ F12 æˆ–å³é”®ç‚¹å‡»é¡µé¢ -> "æ£€æŸ¥"
3. åˆ‡æ¢åˆ° **Console** æ ‡ç­¾
4. æ¸…ç©ºç°æœ‰æ—¥å¿—ï¼ˆç‚¹å‡»ğŸš«å›¾æ ‡ï¼‰
5. å°è¯•æ›´æ–°è‚¡ç¥¨æœŸæƒäº§å“
6. æŸ¥çœ‹Consoleä¸­çš„è¾“å‡º

**é¢„æœŸæ—¥å¿—è¾“å‡º**ï¼š
```
=== å¼€å§‹ä¿å­˜äº§å“ ===
è¡¨å•åŸå§‹å€¼: {symbol: "...", name: "...", details: {...}}
ç¼–è¾‘ä¸­çš„èµ„äº§: {id: "...", ...}
å¤„ç†åçš„äº§å“æ•°æ®ï¼ˆæ—¥æœŸè½¬æ¢å‰ï¼‰: {...}
æœ€ç»ˆæäº¤çš„æ•°æ®: {...}
æ‰§è¡Œæ›´æ–°æ“ä½œï¼Œèµ„äº§ID: xxx-xxx-xxx
```

### 2. æŸ¥çœ‹Networkè¯·æ±‚

1. åœ¨å¼€å‘è€…å·¥å…·ä¸­åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
2. æ¸…ç©ºç°æœ‰è¯·æ±‚
3. å°è¯•æ›´æ–°è‚¡ç¥¨æœŸæƒäº§å“
4. æŸ¥æ‰¾ PUT è¯·æ±‚åˆ° `/api/assets/xxx`

**æ£€æŸ¥è¦ç‚¹**ï¼š
- è¯·æ±‚æ˜¯å¦å‘é€æˆåŠŸï¼Ÿ
- çŠ¶æ€ç æ˜¯å¤šå°‘ï¼Ÿï¼ˆ200=æˆåŠŸï¼Œ400=å®¢æˆ·ç«¯é”™è¯¯ï¼Œ500=æœåŠ¡å™¨é”™è¯¯ï¼‰
- ç‚¹å‡»è¯·æ±‚æŸ¥çœ‹ï¼š
  - **Headers** -> Request Headersï¼ˆè¯·æ±‚å¤´ï¼‰
  - **Payload** -> Request Payloadï¼ˆè¯·æ±‚æ•°æ®ï¼‰
  - **Response** -> Responseï¼ˆå“åº”æ•°æ®ï¼‰

### 3. å¸¸è§é—®é¢˜æ’æŸ¥

#### é—®é¢˜1ï¼šè¯·æ±‚æœªå‘é€
**ç—‡çŠ¶**ï¼šNetworkæ ‡ç­¾ä¸­æ²¡æœ‰PUTè¯·æ±‚
**å¯èƒ½åŸå› **ï¼š
- è¡¨å•éªŒè¯å¤±è´¥
- JavaScripté”™è¯¯é˜»æ­¢äº†è¯·æ±‚
**è§£å†³æ–¹æ³•**ï¼š
- æŸ¥çœ‹Consoleæ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯
- æ£€æŸ¥è¡¨å•å¿…å¡«å­—æ®µæ˜¯å¦éƒ½å·²å¡«å†™

#### é—®é¢˜2ï¼š400é”™è¯¯
**ç—‡çŠ¶**ï¼šè¯·æ±‚çŠ¶æ€ç ä¸º400
**å¯èƒ½åŸå› **ï¼š
- æ•°æ®æ ¼å¼ä¸æ­£ç¡®
- ç¼ºå°‘å¿…å¡«å­—æ®µ
- å­—æ®µç±»å‹ä¸åŒ¹é…
**è§£å†³æ–¹æ³•**ï¼š
- æŸ¥çœ‹Responseä¸­çš„é”™è¯¯ä¿¡æ¯
- æ£€æŸ¥Payloadä¸­çš„æ•°æ®æ ¼å¼

#### é—®é¢˜3ï¼š401é”™è¯¯
**ç—‡çŠ¶**ï¼šè¯·æ±‚çŠ¶æ€ç ä¸º401
**å¯èƒ½åŸå› **ï¼š
- ç™»å½•å·²è¿‡æœŸ
- Tokenæ— æ•ˆ
**è§£å†³æ–¹æ³•**ï¼š
- é‡æ–°ç™»å½•ç³»ç»Ÿ

#### é—®é¢˜4ï¼š500é”™è¯¯
**ç—‡çŠ¶**ï¼šè¯·æ±‚çŠ¶æ€ç ä¸º500
**å¯èƒ½åŸå› **ï¼š
- åç«¯ä»£ç é”™è¯¯
- æ•°æ®åº“é”™è¯¯
**è§£å†³æ–¹æ³•**ï¼š
- æŸ¥çœ‹åç«¯æ—¥å¿—ï¼š`tail -50 /Users/caojun/code/FinApp/backend/backend.log`

## åç«¯æ—¥å¿—æŸ¥çœ‹

```bash
# å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
cd /Users/caojun/code/FinApp/backend
tail -f backend.log

# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯
tail -100 backend.log | grep -i error

# æŸ¥çœ‹PUTè¯·æ±‚
tail -100 backend.log | grep PUT
```

## å‰ç«¯ä»£ç ä½ç½®

- ä¸»æ–‡ä»¶ï¼š`frontend/src/pages/admin/ProductManagement.tsx`
- è‚¡ç¥¨æœŸæƒå­—æ®µç»„ä»¶ï¼š`frontend/src/components/asset/details/StockOptionDetailsFields.tsx`
- APIæœåŠ¡ï¼š`frontend/src/services/assetService.ts`

## åç«¯ä»£ç ä½ç½®

- æ§åˆ¶å™¨ï¼š`backend/src/controllers/AssetController.ts`
- æœåŠ¡ï¼š`backend/src/services/AssetService.ts`
- è¯¦æƒ…æœåŠ¡ï¼š`backend/src/services/AssetDetailsService.ts`ï¼ˆç¬¬871è¡Œå·²ä¿®å¤ï¼‰

## ä¸‹ä¸€æ­¥

è¯·æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ“ä½œï¼Œå¹¶æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **Consoleæ—¥å¿—**ï¼šå¤åˆ¶å®Œæ•´çš„æ—¥å¿—è¾“å‡º
2. **Networkè¯·æ±‚**ï¼š
   - è¯·æ±‚URL
   - çŠ¶æ€ç 
   - Request Payloadï¼ˆè¯·æ±‚æ•°æ®ï¼‰
   - Responseï¼ˆå“åº”æ•°æ®ï¼‰
3. **é”™è¯¯æç¤º**ï¼šé¡µé¢ä¸Šæ˜¾ç¤ºçš„å®Œæ•´é”™è¯¯ä¿¡æ¯

æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘å¯ä»¥å‡†ç¡®å®šä½é—®é¢˜æ‰€åœ¨ã€‚
