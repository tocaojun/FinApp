â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    FinApp æ•°æ®åº“å¤‡ä»½å¿«é€Ÿå‚è€ƒ                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ å¸¸ç”¨å‘½ä»¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… å®Œæ•´å¤‡ä»½
  bash scripts/backup-database.sh

âœ… å‹ç¼©å¤‡ä»½ï¼ˆæ¨èç”¨äºå­˜å‚¨ï¼‰
  bash scripts/backup-database.sh compress

âœ… å¤‡ä»½ç‰¹å®šè¡¨
  bash scripts/backup-database.sh table exchange_rates

âœ… å¯¼å‡ºè¡¨æ•°æ®ä¸º CSV
  bash scripts/backup-database.sh data users

âœ… æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½
  bash scripts/backup-database.sh list

âœ… æ¢å¤æ•°æ®åº“
  bash scripts/restore-database.sh /path/to/backup.sql


ğŸ”§ æ‰‹åŠ¨å‘½ä»¤ï¼ˆä½¿ç”¨ caojun ç”¨æˆ·ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å®Œæ•´æ•°æ®åº“å¤‡ä»½
  pg_dump -h localhost -U caojun -d finapp_test > backup.sql

å‹ç¼©å¤‡ä»½
  pg_dump -h localhost -U caojun -d finapp_test | gzip > backup.sql.gz

ç‰¹å®šè¡¨å¤‡ä»½
  pg_dump -h localhost -U caojun -d finapp_test -t "finapp.exchange_rates" > table.sql

æ¢å¤å¤‡ä»½
  psql -h localhost -U caojun -d finapp_test < backup.sql

æ¢å¤å‹ç¼©å¤‡ä»½
  gunzip -c backup.sql.gz | psql -h localhost -U caojun -d finapp_test


ğŸ“Š å¤‡ä»½ç»Ÿè®¡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å¤‡ä»½æ–‡ä»¶å¤§å°
  æœªå‹ç¼©: ~187 KB
  å‹ç¼©å: ~26 KB (å‹ç¼©ç‡ 87%)

å¤‡ä»½æ—¶é—´: ~5-10 ç§’
å¤‡ä»½åŒ…å«: 33 ä¸ªè¡¨ + æ‰€æœ‰æ•°æ®


ğŸ“ å¤‡ä»½ä½ç½®
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

/Users/caojun/code/FinApp/backups/


âš¡ å¿«é€Ÿæ¢å¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. æ‰¾åˆ°æœ€è¿‘çš„å¤‡ä»½æ–‡ä»¶
   bash scripts/backup-database.sh list

2. æ¢å¤æ•°æ®åº“ï¼ˆéœ€è¦ç¡®è®¤ï¼‰
   bash scripts/restore-database.sh /path/to/backup.sql

3. éªŒè¯æ¢å¤
   psql -h localhost -U caojun -d finapp_test -c "SELECT COUNT(*) FROM finapp.users;"


ğŸ” æƒé™é…ç½®ï¼ˆå·²å®Œæˆï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… caojun ç”¨æˆ·    - å®Œå…¨æƒé™ï¼Œå¯ä»¥å¤‡ä»½å’Œæ¢å¤
âœ… finapp_user    - å·²æˆæƒï¼Œå¯ä»¥å¤‡ä»½ï¼ˆè¯»å–æƒé™ï¼‰


ğŸš¨ é—®é¢˜æ’é™¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æƒé™é”™è¯¯
  ä½¿ç”¨ caojun ç”¨æˆ·æ‰§è¡Œå¤‡ä»½
  æˆ–æŸ¥çœ‹ docs/BACKUP_PERMISSION_SOLUTION.md

è„šæœ¬æ‰¾ä¸åˆ°
  chmod +x scripts/backup-database.sh
  chmod +x scripts/restore-database.sh

å¤‡ä»½æ–‡ä»¶å¤ªå¤§
  ä½¿ç”¨å‹ç¼©å¤‡ä»½: bash scripts/backup-database.sh compress


ï¿½ï¿½ è¯¦ç»†æ–‡æ¡£
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å®Œæ•´æŒ‡å—: docs/DATABASE_BACKUP_GUIDE.md
æƒé™è§£å†³: docs/BACKUP_PERMISSION_SOLUTION.md
ä¿æŠ¤è§„èŒƒ: docs/DatabaseProtectionAndBackup.md


ğŸ’¡ æœ€ä½³å®è·µ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… æ—¥å¸¸å¤‡ä»½   - æ¯å¤©ä¸€æ¬¡ï¼ˆä½¿ç”¨è„šæœ¬ï¼‰
âœ… ä¿®æ”¹å‰å¤‡ä»½ - ä»»ä½•æ•°æ®åº“ä¿®æ”¹å‰å¿…é¡»å¤‡ä»½
âœ… å­˜å‚¨å¤‡ä»½   - å‹ç¼©åä¿å­˜ï¼Œå®šæœŸä¸Šä¼ åˆ°äº‘
âœ… éªŒè¯å¤‡ä»½   - å®šæœŸæ¢å¤æµ‹è¯•å¤‡ä»½å®Œæ•´æ€§
âœ… å¤šåœ°å¤‡ä»½   - æœ¬åœ° + äº‘å­˜å‚¨ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±


ğŸ”— ç›¸å…³å‘½ä»¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
  psql -h localhost -U caojun -c "\l"

æ£€æŸ¥ç”¨æˆ·æ•°
  psql -h localhost -U caojun -d finapp_test -c "SELECT COUNT(*) FROM finapp.users;"

æ£€æŸ¥æŠ•èµ„ç»„åˆ
  psql -h localhost -U caojun -d finapp_test -c "SELECT COUNT(*) FROM finapp.portfolios;"

åˆ—è¡¨æ‰€æœ‰è¡¨
  psql -h localhost -U caojun -d finapp_test -c "\dt finapp.*"


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æœ€åæ›´æ–°: 2025-11-07
ç‰ˆæœ¬: v1.0
