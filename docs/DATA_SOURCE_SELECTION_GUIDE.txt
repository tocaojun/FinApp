╔════════════════════════════════════════════════════════════════════════════╗
║                     数据源选择决策指南 - 快速选择流程                         ║
╚════════════════════════════════════════════════════════════════════════════╝

【第一步】确定您的需求

你的主要投资市场是？
├─ 中国股票（A股、港股）→ 【进行第二步】
├─ 美国股票 → 【进行第二步A】
└─ 多个市场组合 → 【进行第二步B】


【第二步】选择：需要什么数据？

┌─ 只需历史价格数据（用于分析、回测）
│  └─ 推荐：Yahoo Finance ⭐⭐⭐⭐⭐
│     • 完全免费
│     • 数据完整
│     • 无需API密钥
│     • 全球覆盖
│     操作：创建任务 → 选择"Yahoo Finance" → 运行
│
├─ 需要历史价格 + 实时行情
│  └─ 推荐：Yahoo Finance + EastMoney ⭐⭐⭐⭐⭐
│     • 都是免费的
│     • Yahoo获取历史数据
│     • EastMoney获取最新行情
│     操作：创建两个任务
│         1. Yahoo Finance（每天执行）
│         2. EastMoney（每小时执行）
│
├─ 需要技术指标和量化分析
│  └─ 推荐：Tushare（如果预算充足）⭐⭐⭐⭐
│     • 功能最全面
│     • 支持技术指标
│     • 成本：¥99-199/月
│     • 同时保留Yahoo作为主源
│     操作：注册Tushare账号 → 获取API密钥 → 配置
│
└─ 仅需实时报价（不需要历史数据）
   └─ 推荐：EastMoney（中国） 或 IEX Cloud（美股）
      • EastMoney：免费，中国优化
      • IEX Cloud：需付费，专业级
      操作：选择对应的数据源定期运行


【第二步A】如果您只关注美国股票

你的使用场景是？
├─ 个人投资者，需要成本最低
│  └─ 推荐：Yahoo Finance
│     成本：¥0/年
│     功能：足够满足大多数需求
│
├─ 专业投资者，需要实时数据
│  └─ 推荐：IEX Cloud 或 Alpha Vantage
│     成本：$99-200/月
│     功能：实时、准确、专业
│
└─ 科技公司，需要高频数据
   └─ 推荐：Polygon.io
      成本：$200+/月
      功能：毫秒级延迟，完整覆盖


【第二步B】如果您管理多市场投资组合

市场类型包含：
┌─ 中国（A股+港股）
├─ 美国（NYSE/NASDAQ）
├─ 欧洲（LSE等）
└─ 可能还有其他

推荐方案：
┌─ 第一套方案（成本最低 - 推荐）
│  • Yahoo Finance 作为所有市场的统一数据源
│  成本：¥0/年
│  特点：覆盖最广，配置最简单
│
└─ 第二套方案（数据最全）
   • Yahoo Finance：基础历史数据（所有市场）
   • EastMoney：中国实时行情
   • IEX Cloud/Alpha Vantage：美股实时行情
   成本：¥0 + $100-300/月
   特点：每个市场都有最优数据源


【第三步】考虑特殊需求

你需要以下功能吗？

┌─ 支持加密货币
│  └─ 必选：Polygon.io
│     其他源都不支持加密货币
│
├─ 需要美国经济指标（CPI、失业率等）
│  └─ 选择：FRED
│     免费，官方权威数据
│
├─ 需要技术指标和智能分析
│  └─ 选择：Tushare（中国）或 Alpha Vantage（美国）
│
└─ 需要企业财务数据和新闻
   └─ 选择：IEX Cloud 或 Tiingo
      通常需付费才能获得完整功能


╔════════════════════════════════════════════════════════════════════════════╗
║                        快速参考 - 按场景推荐                                ║
╚════════════════════════════════════════════════════════════════════════════╝

【场景1】个人投资者（中国股票投资组合）
推荐方案：Yahoo Finance
成本：¥0/年
优势：简单易用，完全免费
配置：1个同步任务，日更新
适合度：⭐⭐⭐⭐⭐


【场景2】小型基金（多个投资组合）
推荐方案：Yahoo Finance + EastMoney
成本：¥0/年
优势：实时+历史，成本最低
配置：2个同步任务（日更新+实时更新）
适合度：⭐⭐⭐⭐⭐


【场景3】量化策略团队（需要技术指标）
推荐方案：Tushare + Yahoo Finance
成本：¥99-199/月（Tushare）
优势：功能最全，支持回测
配置：多个同步任务，按需更新
适合度：⭐⭐⭐⭐


【场景4】跨境投资者（多市场投资组合）
推荐方案：Yahoo Finance（全部市场）
成本：¥0/年
优势：全球覆盖，配置简单
配置：多个同步任务（按市场分组）
适合度：⭐⭐⭐⭐⭐


【场景5】实时交易系统（对数据延迟敏感）
推荐方案：EastMoney（中国）+ IEX Cloud（美股）
成本：¥100-300/月
优势：实时准确，毫秒级延迟
配置：多个高频更新任务
适合度：⭐⭐⭐⭐


【场景6】学术研究（需要大量历史数据）
推荐方案：Yahoo Finance + Tushare
成本：¥99-199/月
优势：数据完整，文献支持度高
配置：离线批量下载
适合度：⭐⭐⭐⭐


╔════════════════════════════════════════════════════════════════════════════╗
║                           成本-性能对比表                                    ║
╚════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────┬──────────┬──────────────────┬──────────┐
│ 数据源               │ 年度成本  │ 适合规模         │ 推荐度   │
├──────────────────────┼──────────┼──────────────────┼──────────┤
│ Yahoo Finance        │ ¥0       │ 所有规模         │ ⭐⭐⭐⭐⭐ │
│ EastMoney           │ ¥0       │ 中国市场         │ ⭐⭐⭐⭐⭐ │
│ Sina (新浪)         │ ¥0       │ 仅实时行情       │ ⭐⭐      │
│ Tushare             │ ¥1188+   │ 量化/专业        │ ⭐⭐⭐⭐  │
│ Alpha Vantage       │ ¥3000+   │ 小规模美股       │ ⭐⭐⭐    │
│ IEX Cloud           │ ¥7000+   │ 专业美股         │ ⭐⭐⭐    │
│ Polygon.io          │ ¥14000+  │ 全方位专业       │ ⭐⭐⭐    │
│ Tiingo              │ ¥10000+  │ 全球股票覆盖     │ ⭐⭐⭐    │
│ FRED                │ ¥0       │ 经济指标专用     │ ⭐⭐⭐⭐  │
└──────────────────────┴──────────┴──────────────────┴──────────┘


╔════════════════════════════════════════════════════════════════════════════╗
║                       一键配置命令 - 快速开始                                ║
╚════════════════════════════════════════════════════════════════════════════╝

【方案A】最简单配置（推荐大多数用户）
只需3步，5分钟内完成配置

1️⃣  登录系统
2️⃣  转到 "数据同步" 模块
3️⃣  点击 "新建同步任务"
    • 名称：中国股票日常同步
    • 数据源：Yahoo Finance
    • 资产类型：股票
    • 市场：SSE / SZSE（根据需求选择）
    • 保存并立即运行
4️⃣  查看同步日志，确认有数据被获取 ✓


【方案B】实时+历史组合（适合需要最新报价）
需要6步，10分钟内完成配置

任务1：历史数据同步
  • 名称：日常历史数据同步
  • 数据源：Yahoo Finance
  • 更新频率：每天1次（推荐晚上）

任务2：实时行情同步
  • 名称：实时行情更新
  • 数据源：EastMoney
  • 更新频率：每小时1次（或每分钟）

结果：既有历史数据用于分析，又有最新行情


【方案C】专业量化配置（需要技术指标）
需要注册和配置，15-20分钟

前置要求：
  • 注册 Tushare 账号（www.tushare.pro）
  • 获取 API Token
  • 充值积分（可用免费积分）

配置任务：
  • 任务1：Yahoo Finance（历史基础数据）
  • 任务2：Tushare（技术指标和详细数据）


╔════════════════════════════════════════════════════════════════════════════╗
║                         常见问题速解                                        ║
╚════════════════════════════════════════════════════════════════════════════╝

Q1: 我应该选哪个数据源？
A:  • 首先看预算：能否接受付费？
    • 中国股票 → Yahoo Finance（免费首选）
    • 需要实时 → 加上 EastMoney
    • 需要指标 → 考虑 Tushare（付费）
    99% 的情况下，Yahoo Finance 就够了

Q2: Yahoo Finance 可靠吗？
A:  是的，非常可靠。Yahoo 是全球最大财经数据商。
    系统中已完全测试和优化。

Q3: 有速率限制吗？
A:  Yahoo Finance 无限制（推荐）
    EastMoney 无限制（推荐）
    Tushare 有限制（免费版 5000/天）
    其他商业源通常有限制

Q4: 数据如何更新？
A:  • 股票：交易日 15:00 后更新完成
    • 实时行情：交易时段每秒更新
    • 可以手动运行或定时自动运行

Q5: 可以同时用多个数据源吗？
A:  可以的。创建多个同步任务，分别使用不同数据源。
    系统会自动合并数据，避免重复。

Q6: 需要 API 密钥吗？
A:  推荐的源都不需要：
    ✓ Yahoo Finance - 不需要
    ✓ EastMoney - 不需要
    ✗ Tushare - 需要（需注册和充值）
    ✗ 其他商业源 - 需要

Q7: 如何知道数据是否同步成功？
A:  查看同步日志：
    • status = 'success'
    • total_records > 0
    • success_count > 0


╔════════════════════════════════════════════════════════════════════════════╗
║                          下一步行动                                         ║
╚════════════════════════════════════════════════════════════════════════════╝

1. 决定你的需求（历史 vs 实时 vs 量化）
2. 选择合适的数据源组合（参考上面的方案）
3. 创建同步任务（使用"一键配置命令"中的步骤）
4. 验证同步结果（查看日志和数据库）
5. 定时更新（设置定期同步保持数据最新）

【详细文档】
全面的数据源对比分析：docs/DATA_SOURCE_COMPARISON.md


🌟 提示：大多数用户选择 Yahoo Finance 就足够了
        如需实时行情，加上 EastMoney
        如需量化分析，考虑 Tushare（付费）
