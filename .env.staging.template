# FinApp Staging Environment Variables Template
# Copy this to .env.staging and fill in the values for your staging environment

# ============================================
# Database Configuration (REQUIRED)
# ============================================
DATABASE_URL="postgresql://finapp_staging:YOUR_SECURE_PASSWORD@staging-db-host:5432/finapp_staging?schema=finapp&client_encoding=utf8"

DB_HOST="staging-db-host"
DB_PORT="5432"
DB_NAME="finapp_staging"
DB_USER="finapp_staging"
DB_PASSWORD="YOUR_SECURE_PASSWORD"

# ============================================
# Server Configuration
# ============================================
NODE_ENV="staging"
PORT="8000"
API_PREFIX="/api"

# ============================================
# Security Configuration (REQUIRED - Change from defaults!)
# ============================================
JWT_SECRET="generate-a-secure-random-string-here-at-least-32-characters-long"
JWT_EXPIRES_IN="24h"
JWT_REFRESH_EXPIRES_IN="7d"

# Bcrypt rounds for password hashing
BCRYPT_ROUNDS="12"

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
CORS_ORIGIN="https://staging.yourdomain.com,https://staging-api.yourdomain.com,http://localhost:3001"

# ============================================
# Cache Configuration
# ============================================
CACHE_TTL="3600"           # 1 hour
CACHE_MAX_KEYS="1000"

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL="info"
LOG_FILE_PATH="logs/staging.log"
LOG_MAX_SIZE="50MB"
LOG_MAX_FILES="10"

# ============================================
# Email Configuration (Optional)
# ============================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM="noreply@staging.yourdomain.com"

# ============================================
# External API Configuration
# ============================================

# Yahoo Finance API (Free)
YAHOO_FINANCE_BASE_URL="https://query1.finance.yahoo.com"
# No API key required for Yahoo Finance

# Exchange Rate API
EXCHANGE_RATE_API_KEY="your-exchange-rate-api-key-if-using-paid-service"
EXCHANGE_RATE_BASE_URL="https://api.exchangerate-api.com/v4/latest"

# ============================================
# Price Sync Configuration
# ============================================
# Enable automatic exchange rate updates
ENABLE_EXCHANGE_RATE_AUTO_UPDATE="true"

# Cron schedule for exchange rate updates (every 6 hours in staging)
EXCHANGE_RATE_UPDATE_SCHEDULE="0 */6 * * *"

# Threshold for exchange rate alerts (% change)
EXCHANGE_RATE_ALERT_THRESHOLD="2.0"

# ============================================
# Feature Flags
# ============================================
# Enable wealth product monitoring
ENABLE_WEALTH_MONITORING="true"

# Enable price sync service
ENABLE_PRICE_SYNC="true"

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS="900000"        # 15 minutes
RATE_LIMIT_MAX_REQUESTS="1000"       # 1000 requests per window

# ============================================
# File Upload Configuration
# ============================================
UPLOAD_MAX_SIZE="10MB"
UPLOAD_ALLOWED_TYPES="csv,xlsx,json"
UPLOAD_DIR="uploads/"

# ============================================
# Monitoring & Analytics (Optional)
# ============================================
# Sentry error tracking (optional)
SENTRY_DSN=""

# Google Analytics (optional)
GA_MEASUREMENT_ID=""

# ============================================
# Frontend Configuration
# ============================================
# These should match in frontend/.env.staging
VITE_API_BASE_URL="https://staging-api.yourdomain.com/api"
VITE_APP_TITLE="FinApp (Staging)"

# ============================================
# Prisma Configuration
# ============================================
PRISMA_SKIP_PRISMA_CLI_VERSION_CHECK="true"

# ============================================
# Development/Debugging (Use with caution in staging!)
# ============================================
# Set to 'true' only for debugging specific issues
DEBUG_MODE="false"

# Mock data for testing (should be false in staging)
USE_MOCK_DATA="false"

# ============================================
# Notes
# ============================================
# 1. Replace <staging-db-host> with actual hostname/IP
# 2. Generate a strong JWT_SECRET using: openssl rand -base64 32
# 3. Use environment-specific passwords (not development passwords)
# 4. Ensure CORS origins match your staging domain
# 5. Configure SMTP for production-like email testing
# 6. Monitor logs regularly for issues
# 7. Keep this file secure - never commit to git
